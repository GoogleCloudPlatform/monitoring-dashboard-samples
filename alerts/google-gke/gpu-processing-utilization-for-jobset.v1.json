{
    "displayName": "High GPU Processing Utilization (JobSet: ${JOBSET_NAME})",
    "documentation": {
      "content": "[View JobSet details](https://console.cloud.google.com/kubernetes/aiml/deployments/jobset/${metric_or_resource.label.project_id}/${CLUSTER_KIND}/${metric_or_resource.label.location}/${metric_or_resource.label.cluster_name}/${metric_or_resource.label.namespace_name}/${JOBSET_NAME}/observability?project=${metric_or_resource.label.project_id}).",
      "mimeType": "text/markdown"
    },
    "userLabels": {},
    "conditions": [
      {
        "displayName": "GPU Processing Utilization is high for: ${JOBSET_NAME}",
        "conditionThreshold": {
          "aggregations": [
            {
              "alignmentPeriod": "60s",
              "perSeriesAligner": "ALIGN_MEAN",
              "crossSeriesReducer": "REDUCE_NONE"
            }
          ],
          "comparison": "COMPARISON_GT",
          "duration": "0s",
          "filter": "resource.type = \"k8s_container\" AND metric.type = \"kubernetes.io/container/accelerator/duty_cycle\" AND metric.label.\"make\"!=\"cloud-tpu\" AND resource.labels.project_id=\"${metric_or_resource.label.project_id}\" AND resource.labels.cluster_name=\"${metric_or_resource.label.cluster_name}\" AND resource.labels.location=\"${metric_or_resource.label.location}\" AND resource.labels.namespace_name=\"${metric_or_resource.label.namespace_name}\" AND metadata.user_labels.\"jobset.sigs.k8s.io/jobset-name\"=\"${JOBSET_NAME}\"",
          "thresholdValue": 90,
          "trigger": {
            "count": 1
          }
        }
      }
    ],
    "alertStrategy": {
      "autoClose": "604800s"
    },
    "combiner": "OR",
    "enabled": true
  }
  