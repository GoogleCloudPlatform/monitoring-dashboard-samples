{
  "displayName": "Quota Adjuster < ${SERVICE_TITLE} - ${LIMIT_DISPLAY_NAME}",
  "documentation": {
    "content": "Log-based alerting detected that QuotaAdjuster attempted to change the service ${log.extracted_label.service_name} limit ${LIMIT_DISPLAY_NAME} in location ${log.extracted_label.location}.The change has failed.",
    "mimeType": "text/markdown"
  },
  "userLabels": {},
  "conditions": [
    {
      "displayName": "Log match condition",
      "conditionMatchedLog": {
        "filter": "log_id(\"cloudaudit.googleapis.com/system_event\") \nprotoPayload.methodName=\"google.cloud.quotaadjuster.v1main.QuotaAdjusterService.AutoAdjustQuota\"\nprotoPayload.metadeta.service=\"${SERVICE_NAME}\" \nprotoPayload.metadata.state=\"FAILED\" \nprotoPayload.metadata.limit=\"${LIMIT_NAME}\"\n",
        "labelExtractors": {
          "limit_name":"EXTRACT(protoPayload.metadata.limit)",
          "service_name":"EXTRACT(protoPayload.metadata.service)",
          "location":"EXTRACT(protoPayload.metadata.location)"
        }
      }
    }
  ],
  "alertStrategy": {
    "notificationRateLimit": {
      "period": "3600s"
    },
    "autoClose": "604800s"
  },
  "combiner": "OR",
  "enabled": true,
  "notificationChannels": []
}
